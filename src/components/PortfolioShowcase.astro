---
import { Image } from 'astro:assets';
import type { ProjectCard } from '@src/lib/project-cards';

// Import all images statically
import hablabaHero from '@src/assets/img/projects/hablaba-hero.png';
import muchoHangoutsHero from '@src/assets/img/projects/mucho-hangouts-hero.png';
import voxPrismaticHero from '@src/assets/img/projects/vox-prismatic-hero.png';
import genruptHero from '@src/assets/img/projects/genrupt-hero.png';
import casaElariaHero from '@src/assets/img/projects/casa-elaria-hero.png';
import desarmaderoHero from '@src/assets/img/projects/desarmadero-hero.png';
import maximoHero from '@src/assets/img/projects/maximo-hero.png';
import redwriterHero from '@src/assets/img/projects/redwriter-hero.png';

interface Props {
  projects: ProjectCard[];
}

const { projects } = Astro.props;

// Map project slugs to images
const imageMap: Record<string, ImageMetadata> = {
  'language-exchange': hablabaHero,
  'mucho-hangouts': muchoHangoutsHero,
  'vox-prismatic': voxPrismaticHero,
  'genrupt': genruptHero,
  'casa-elaria': casaElariaHero,
  'desarmadero-latorre': desarmaderoHero,
  'maximo-interiorismo': maximoHero,
  'redwriter-comics': redwriterHero,
};
---

<div class="space-y-20">
  {projects.map((project) => {
    const heroImage = imageMap[project.slug];
    return (
      <a
        href={`/projects/${project.slug}/`}
        class="group block overflow-hidden rounded-2xl bg-zinc-100 dark:bg-zinc-800 transition-all duration-300 hover:shadow-xl hover:-translate-y-1"
      >
        <div class="relative aspect-[16/9] overflow-hidden">
          {heroImage && (
            <Image
              src={heroImage}
              alt={project.name}
              class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"
              loading="lazy"
            />
          )}
        </div>

        <div class="p-8">
          <div class="space-y-3">
            <h3 class="text-2xl font-bold text-zinc-900 dark:text-zinc-100">
              {project.name}
            </h3>
            <p class="text-sm leading-relaxed text-zinc-600 dark:text-zinc-300">
              {project.description}
            </p>
            {project.tags.length > 0 && (
              <div class="flex flex-wrap gap-2 pt-1">
                {project.tags.slice(0, 5).map((tag) => (
                  <span class="inline-block px-2.5 py-1 text-xs font-medium rounded-full bg-zinc-200 text-zinc-700 dark:bg-zinc-700 dark:text-zinc-300">
                    {tag}
                  </span>
                ))}
              </div>
            )}
            <span class="inline-flex items-center gap-1 text-sm font-medium text-primary pt-1 transition-transform duration-300 group-hover:translate-x-1">
              View Case Study
              <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            </span>
          </div>
        </div>
      </a>
    );
  })}
</div>
