---
import { Image } from 'astro:assets';
import type { ProjectCard } from '@src/lib/project-cards';

// Import all images statically
import hablabaHero from '@src/assets/img/projects/hablaba-hero.png';
import muchoHangoutsHero from '@src/assets/img/projects/mucho-hangouts-hero.png';
import voxPrismaticHero from '@src/assets/img/projects/vox-prismatic-hero.png';
import genruptHero from '@src/assets/img/projects/genrupt-hero.png';
import casaElariaHero from '@src/assets/img/projects/casa-elaria-hero.png';
import desarmaderoHero from '@src/assets/img/projects/desarmadero-hero.png';
import maximoHero from '@src/assets/img/projects/maximo-hero.png';
import redwriterHero from '@src/assets/img/projects/redwriter-hero.png';

interface Props {
  projects: ProjectCard[];
}

const { projects } = Astro.props;

// Map project slugs to images
const imageMap: Record<string, ImageMetadata> = {
  'language-exchange': hablabaHero,
  'mucho-hangouts': muchoHangoutsHero,
  'vox-prismatic': voxPrismaticHero,
  'genrupt': genruptHero,
  'casa-elaria': casaElariaHero,
  'desarmadero-latorre': desarmaderoHero,
  'maximo-interiorismo': maximoHero,
  'redwriter-comics': redwriterHero,
};
---

<div class="space-y-12">
  {projects.map((project) => {
    const heroImage = imageMap[project.slug];
    return (
      <a
        href={`/projects/${project.slug}/`}
        class="group block border-2 border-black dark:border-white transition-all duration-200 hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black"
      >
        <div class="aspect-[16/9] overflow-hidden border-b-2 border-black dark:border-white group-hover:border-white dark:group-hover:border-black">
          {heroImage && (
            <Image
              src={heroImage}
              alt={project.name}
              class="h-full w-full object-cover grayscale transition-all duration-300 group-hover:grayscale-0"
              loading="lazy"
            />
          )}
        </div>

        <div class="p-6 space-y-4">
          <div class="flex items-center justify-between">
            <span class="font-mono text-xs uppercase tracking-wide opacity-60">
              {project.year}
            </span>
            <span class="font-mono text-xs uppercase tracking-wide opacity-60">
              {project.category === 'product' ? 'APPLICATION' : 'WEBSITE'}
            </span>
          </div>

          <h3 class="text-xl font-bold uppercase tracking-tight">
            {project.name}
          </h3>

          <p class="text-sm leading-relaxed opacity-80">
            {project.description}
          </p>

          {project.tags.length > 0 && (
            <div class="flex flex-wrap gap-2">
              {project.tags.slice(0, 4).map((tag) => (
                <span class="tech-tag">
                  {tag}
                </span>
              ))}
            </div>
          )}

          <span class="inline-flex items-center gap-2 text-sm font-semibold uppercase tracking-wide">
            View Case Study
            <span class="transition-transform duration-200 group-hover:translate-x-2">&rarr;</span>
          </span>
        </div>
      </a>
    );
  })}
</div>
