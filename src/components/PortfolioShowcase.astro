---
import { Image } from 'astro:assets';
import type { ProjectCard } from '@src/lib/project-cards';

// Import all images statically
import redwriterHero from '@src/assets/img/projects/redwriter-hero.png';
import maximoHero from '@src/assets/img/projects/maximo-hero.png';
import desarmaderoHero from '@src/assets/img/projects/desarmadero-hero.png';
import casaElariaHero from '@src/assets/img/projects/casa-elaria-hero.png';

interface Props {
  projects: ProjectCard[];
}

const { projects } = Astro.props;

// Map project slugs to images
const imageMap: Record<string, ImageMetadata> = {
  'redwriter-comics': redwriterHero,
  'maximo-interiorismo': maximoHero,
  'desarmadero-latorre': desarmaderoHero,
  'casa-elaria': casaElariaHero,
};
---

<div class="space-y-12">
  {projects.map((project) => {
    const heroImage = imageMap[project.slug];
    return (
      <a
        href={`/projects/${project.slug}/`}
        class="block overflow-hidden rounded-2xl bg-zinc-100 dark:bg-zinc-800"
      >
        <div class="relative aspect-[16/9] overflow-hidden">
          {heroImage && (
            <Image
              src={heroImage}
              alt={project.name}
              class="h-full w-full object-cover"
              loading="lazy"
            />
          )}
        </div>

        <div class="p-8">
          <div class="flex items-start justify-between gap-4">
            <div class="flex-1 space-y-2">
              <h3 class="text-2xl font-bold text-zinc-900 dark:text-zinc-100">
                {project.name}
              </h3>
              <p class="text-sm leading-relaxed text-zinc-600 dark:text-zinc-300">
                {project.description}
              </p>
            </div>
            <div class="flex-shrink-0">
              <span class="inline-flex items-center rounded-full bg-zinc-200 dark:bg-zinc-700 px-4 py-2 text-sm font-medium text-zinc-900 dark:text-zinc-100">
                {project.year}
              </span>
            </div>
          </div>
        </div>
      </a>
    );
  })}
</div>
