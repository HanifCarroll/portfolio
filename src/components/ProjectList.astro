---
import type { ProjectCard } from '../lib/project-cards';

const { projects } = Astro.props;
---

<div class="space-y-16">
  {
    projects.map((project: ProjectCard) => (
      <article class="group">
        <a href={`/projects/${project.slug}/`} class="block">
          <div class="space-y-6">
            <!-- Project Header -->
            <div class="space-y-3">
              <div class="flex items-center gap-3">
                <h3 class="text-2xl font-bold text-zinc-900 dark:text-zinc-100 group-hover:text-primary transition-colors">
                  {project.name}
                </h3>
                <span class="text-sm text-zinc-500 dark:text-zinc-400">
                  {project.year}
                </span>
              </div>
              <p class="text-base text-zinc-600 dark:text-zinc-400">
                {project.client}
              </p>
            </div>

            <!-- Project Description -->
            <p class="text-lg leading-relaxed text-zinc-600 dark:text-zinc-300 max-w-4xl">
              {project.description}
            </p>

            <!-- Technologies -->
            {
              project.tags.length > 0 && (
                <div class="flex flex-wrap gap-2">
                  {project.tags.map((tag) => (
                    <span class="rounded-md bg-zinc-100 dark:bg-zinc-800 px-3 py-1 text-sm font-medium text-zinc-700 dark:text-zinc-300">
                      {tag}
                    </span>
                  ))}
                </div>
              )
            }

            <!-- Actions -->
            <div class="flex items-center gap-4 text-sm">
              <span class="font-medium text-primary group-hover:underline underline-offset-4">
                View Case Study →
              </span>
              {
                project.demoLink && (
                  <span class="text-zinc-500 dark:text-zinc-400">•</span>
                  <a
                    href={project.demoLink}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="font-medium text-zinc-600 hover:text-primary dark:text-zinc-400 dark:hover:text-primary transition-colors inline-flex items-center gap-1 demo-link"
                  >
                    Live Site
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M15 3h6v6" />
                      <path d="M10 14 21 3" />
                      <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" />
                    </svg>
                  </a>
                )
              }
            </div>
          </div>
        </a>
      </article>
    ))
  }
</div>

<script>
  document.querySelectorAll('.demo-link').forEach(link => {
    link.addEventListener('click', (e) => {
      e.stopPropagation();
    });
  });
</script>
