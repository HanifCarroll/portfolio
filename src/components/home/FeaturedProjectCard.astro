---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import Tag from "../Tag.astro";

type Project = CollectionEntry<"projects">["data"] & { slug: "string" };

const { title, image, imageAlt, tags, description, slug } =
    Astro.props as Project;
---

<a class="block no-underline text-inherit transition-all duration-200 ease-in-out" href={`/projects/${slug}`}>
    <article class="flex flex-col gap-8 bg-white rounded-sm overflow-hidden border border-gray-200 transition-all duration-200 ease-in-out hover:border-gray-300 hover:shadow-[0_4px_12px_rgba(0,0,0,0.05)] md:flex-row md:gap-10 lg:even:flex-row-reverse">
        <div class="w-full max-h-[600px] overflow-hidden py-8 px-3 md:flex-1 md:min-h-[300px]">
            <Image
                src={image}
                alt={imageAlt ?? title}
                class="project-image w-full h-full object-contain aspect-[4/3] transition-transform duration-300 ease-in-out hover:scale-[1.02] md:h-full md:aspect-auto"
                loading="eager"
                decoding="async"
                format="webp"
                quality="mid"
            />
        </div>
        <div class="p-8 flex flex-col gap-5 md:flex-1 md:p-10 md:justify-center lg:p-12 lg:gap-6">
            <div class="flex flex-col gap-4">
                <h3 class="text-[1.5rem] font-medium text-gray-900 m-0 leading-snug md:text-[1.75rem] lg:text-4xl">{title}</h3>
                <div class="flex flex-wrap gap-2">
                    {tags.map((tag) => <span class="text-[0.875rem] text-gray-500 bg-gray-100 py-1 px-3 rounded-xl font-normal tracking-normal">{tag}</span>)}
                </div>
            </div>
            <p class="text-lg font-light leading-relaxed text-gray-500 m-0 md:text-lg">{description}</p>
            <span class="project-link-text text-[0.9rem] text-gray-800 font-medium tracking-[0.02em] uppercase self-start relative transition-all duration-200 ease-in-out after:content-[''] after:absolute after:bottom-[-2px] after:left-0 after:w-0 after:h-px after:bg-accent-500 after:transition-[width] after:duration-200 after:ease-in-out hover:after:w-full"> View Project </span>
        </div>
    </article>
</a>

