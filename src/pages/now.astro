---
import BaseLayout from "../layouts/BaseLayout.astro";
import Prose from "../components/Prose.astro";
const [nowEntry] = await Astro.glob("../content/now.md");
const { Content, frontmatter } = nowEntry;
const title = frontmatter.title ?? "What I'm Up to Now";
const description =
    frontmatter.description ??
    "What I'd tell a friend about what I'm focused on right now.";
const lastUpdated = frontmatter.lastUpdated ?? "";
---

<BaseLayout title={`Now Â· Hanif Carroll`} description={description}>
    <article class="container space-y-16 py-10">
        <!-- Breadcrumb -->
        <nav
            class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-400"
        >
            <a href="/" class="hover:text-primary transition-colors">Home</a>
            <span class="text-zinc-400">/</span>
            <span class="text-zinc-900 dark:text-zinc-100">Now</span>
        </nav>

        <header class="space-y-4">
            <div class="inline-flex items-center gap-2">
                <span class="h-px w-8 bg-primary"></span>
                <span class="text-sm font-semibold uppercase tracking-widest text-primary">
                    Current Focus
                </span>
            </div>
            <h1 class="font-serif text-4xl tracking-tight text-zinc-900 dark:text-zinc-100 sm:text-5xl italic">
                {title}
            </h1>
            <p
                class="text-lg text-zinc-600 dark:text-zinc-300 leading-relaxed max-w-3xl"
            >
                {description}
            </p>
            {
                lastUpdated && (
                    <p class="text-sm text-zinc-500 dark:text-zinc-400">
                        Last updated: {lastUpdated}
                    </p>
                )
            }
        </header>

        <section class="space-y-8">
            <div class="relative rounded-2xl bg-white p-8 shadow-sm ring-1 ring-zinc-100 dark:bg-zinc-800/50 dark:ring-zinc-700/50 md:p-10">
                <Prose
                    class="prose-h2:uppercase prose-h2:text-md sm:prose-h2:text-sm prose-h2:tracking-[0.15em] prose-h2:text-primary prose-h2:font-semibold prose-h2:mt-6 prose-h2:mb-2 prose-p:text-lg prose-p:text-zinc-600 dark:prose-p:text-zinc-300 prose-a:text-primary prose-a:no-underline hover:prose-a:underline"
                >
                    <Content />
                </Prose>
            </div>
        </section>
    </article>
</BaseLayout>
